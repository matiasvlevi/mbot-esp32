// import { v4 as uuidv4 } from 'uuid'

let counter: Record<string, number> = {};

export function sequentialId(prefix: string = "", reset = false) {

    if (counter[prefix] === undefined) counter[prefix] = 0;

    if (reset) counter = {};
    else {
        counter[prefix]++;
    }

    return `${prefix}_${counter[prefix]}`;
}

export function getIdPrefixCounters() {
    return counter;
}

export function setIdPrefixCounters(counters: any) {
    counter = {...counters};
}


export function uuid(prefix: string = "") {
    return sequentialId(prefix);
}