import React from "react";

import { NodeContext } from "@oxenode/core";

type SliderProps = React.PropsWithChildren<{
  title?: string;
  name: string;
  nodeId: string;
  value?: string;
  width?: string;
  language?: string;
}>;

export default function Image({
  name = "",
  nodeId,
  width = "200px",
  value=""
}: SliderProps) {
  const { nodeState, dispatchNode } = React.useContext(NodeContext);
  const node = nodeState[nodeId];

  if (typeof node.State[name] === "string") value = node.State[name];
    
  React.useEffect(() => {
    dispatchNode({
      type: "UPDATE_NODE_STATE",
      payload: { node, name, value },
    });
  }, [value]);

  const url = (nodeState[nodeId].State || {})[name] || "";

  return (
    <img
        style={{
            'pointerEvents': 'none'
        }}
        src={url || './logo.svg'}
        width={width}
    />
  );
}
