"use strict";
var __importDefault = (this && this.__importDefault) || function (mod) {
    return (mod && mod.__esModule) ? mod : { "default": mod };
};
Object.defineProperty(exports, "__esModule", { value: true });
const react_1 = __importDefault(require("react"));
const core_1 = require("@oxenode/core");
function Image({ name = "", nodeId, width = "200px", value = "" }) {
    const { nodeState, dispatchNode } = react_1.default.useContext(core_1.NodeContext);
    const node = nodeState[nodeId];
    if (typeof node.State[name] === "string")
        value = node.State[name];
    react_1.default.useEffect(() => {
        dispatchNode({
            type: "UPDATE_NODE_STATE",
            payload: { node, name, value },
        });
    }, [value]);
    const url = (nodeState[nodeId].State || {})[name] || "";
    return (react_1.default.createElement("img", { style: {
            'pointerEvents': 'none'
        }, src: url || './logo.svg', width: width }));
}
exports.default = Image;
